"use client";

import Image from "next/image";
import { useRouter } from "next/navigation";
import React, { useState } from "react";

const Sidebar = ({ setActivePage }) => {
  const router = useRouter();
  const [activeItem, setActiveItem] = useState("dashboard"); // State untuk melacak item aktif

  const handleLogout = () => {
    // Hapus status login dari localStorage
    localStorage.removeItem("isLoggedIn");

    // Redirect ke halaman login atau halaman utama
    router.push("/");

    console.log("User logged out");
  };

  const handleItemClick = (item) => {
    setActiveItem(item); // Set item aktif
    setActivePage(item); // Panggil fungsi untuk mengubah halaman aktif
  };

  return (
    <div>
      <div className="fixed top-0 left-0 inline-flex flex-col p-4 h-screen bg-blue-800">
        <div className="font-bold text-3xl mt-10 mb-5">Logo</div>
        <div className="flex flex-col justify-center items-start">
          {/* Article List */}
          <div
            className={`inline-flex flex-row items-center p-1 rounded-lg cursor-pointer gap-x-2 ${
              activeItem === "list" ? "bg-gray-700" : ""
            }`}
            onClick={() => handleItemClick("list")}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              viewBox="0 -0.5 21 21"
              fill="white"
              className="m-2"
            >
              <g
                id="Page-1"
                stroke="none"
                strokeWidth="1"
                fill="none"
                fillRule="evenodd"
              >
                <g
                  id="Dribbble-Light-Preview"
                  transform="translate(-379.000000, -600.000000)"
                  fill="white"
                >
                  <g id="icons" transform="translate(56.000000, 160.000000)">
                    <path d="M326.15,444 C325.5704,444 325.1,443.552 325.1,443 C325.1,442.448 325.5704,442 326.15,442 C326.7296,442 327.2,442.448 327.2,443 C327.2,443.552 326.7296,444 326.15,444 M327.2,440 L325.1,440 C323.93975,440 323,440.895 323,442 L323,444 C323,445.105 323.93975,446 325.1,446 L327.2,446 C328.36025,446 329.3,445.105 329.3,444 L329.3,442 C329.3,440.895 328.36025,440 327.2,440 M326.15,451 C325.5704,451 325.1,450.552 325.1,450 C325.1,449.448 325.5704,449 326.15,449 C326.7296,449 327.2,449.448 327.2,450 C327.2,450.552 326.7296,451 326.15,451 M327.2,447 L325.1,447 C323.93975,447 323,447.895 323,449 L323,451 C323,452.105 323.93975,453 325.1,453 L327.2,453 C328.36025,453 329.3,452.105 329.3,451 L329.3,449 C329.3,447.895 328.36025,447 327.2,447 M326.15,458 C325.5704,458 325.1,457.552 325.1,457 C325.1,456.448 325.5704,456 326.15,456 C326.7296,456 327.2,456.448 327.2,457 C327.2,457.552 326.7296,458 326.15,458 M327.2,454 L325.1,454 C323.93975,454 323,454.895 323,456 L323,458 C323,459.105 323.93975,460 325.1,460 L327.2,460 C328.36025,460 329.3,459.105 329.3,458 L329.3,456 C329.3,454.895 328.36025,454 327.2,454 M340.85,451 L334.55,451 C333.9704,451 333.5,450.552 333.5,450 C333.5,449.448 333.9704,449 334.55,449 L340.85,449 C341.4296,449 341.9,449.448 341.9,450 C341.9,450.552 341.4296,451 340.85,451 M341.9,447 L333.5,447 C332.33975,447 331.4,447.895 331.4,449 L331.4,451 C331.4,452.105 332.33975,453 333.5,453 L341.9,453 C343.06025,453 344,452.105 344,451 L344,449 C344,447.895 343.06025,447 341.9,447 M340.85,444 L334.55,444 C333.9704,444 333.5,443.552 333.5,443 C333.5,442.448 333.9704,442 334.55,442 L340.85,442 C341.4296,442 341.9,442.448 341.9,443 C341.9,443.552 341.4296,444 340.85,444 M341.9,440 L333.5,440 C332.33975,440 331.4,440.895 331.4,442 L331.4,444 C331.4,445.105 332.33975,446 333.5,446 L341.9,446 C343.06025,446 344,445.105 344,444 L344,442 C344,440.895 343.06025,440 341.9,440 M340.85,458 L334.55,458 C333.9704,458 333.5,457.552 333.5,457 C333.5,456.448 333.9704,456 334.55,456 L340.85,456 C341.4296,456 341.9,456.448 341.9,457 C341.9,457.552 341.4296,458 340.85,458 M341.9,454 L333.5,454 C332.33975,454 331.4,454.895 331.4,456 L331.4,458 C331.4,459.105 332.33975,460 333.5,460 L341.9,460 C343.06025,460 344,459.105 344,458 L344,456 C344,454.895 343.06025,454 341.9,454" />
                  </g>
                </g>
              </g>
            </svg>
            <p className="text-md text-white">Article List</p>
          </div>

          {/* New Article */}
          <div
            className={`inline-flex flex-row items-center p-1 rounded-lg cursor-pointer gap-x-2 ${
              activeItem === "new" ? "bg-gray-700" : ""
            }`}
            onClick={() => handleItemClick("new")}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              viewBox="0 0 16 16"
              fill="rgb(255, 255, 255)"
              fillRule="evenodd"
              className="m-2"
            >
              <path d="M 11 10 C 11.5128 10 11.9355 10.386 11.9933 10.8834 L 12 11 L 12 12 L 13 12 C 13.5523 12 14 12.4477 14 13 C 14 13.5128 13.614 13.9355 13.1166 13.9933 L 13 14 L 12 14 L 12 15 C 12 15.5523 11.5523 16 11 16 C 10.4872 16 10.0645 15.614 10.0067 15.1166 L 10 15 L 10 14 L 9 14 C 8.44772 14 8 13.5523 8 13 C 8 12.4872 8.38604 12.0645 8.88338 12.0067 L 9 12 L 10 12 L 10 11 C 10 10.4477 10.4477 10 11 10 Z M 9 1 C 9.9606 1 10.763 1.67722 10.9559 2.58026 L 13.9947 4.33474 C 14.9513 4.88702 15.2791 6.11021 14.7268 7.06679 L 13.5936 9.03175 C 13.3176 9.51034 12.7058 9.67443 12.2273 9.3982 C 11.7492 9.12215 11.5852 8.51085 11.861 8.03259 L 12.9947 6.06679 L 11 4.91513 L 11 8 C 11 8.55228 10.5523 9 10 9 C 9.44772 9 9 8.55228 9 8 L 9 3 L 3 3 L 3 13 L 5 13 C 5.55228 13 6 13.4477 6 14 C 6 14.5523 5.55228 15 5 15 L 3 15 C 1.89543 15 1 14.1046 1 13 L 1 3 C 1 1.89543 1.89543 1 3 1 L 9 1 Z" />
            </svg>
            <p className="text-md text-white">New Article</p>
          </div>

          {/* New kolaboraksi */}
          <div
            className={`inline-flex flex-row items-center p-1 rounded-lg cursor-pointer gap-x-2 ${
              activeItem === "kolaboraksi" ? "bg-gray-700" : ""
            }`}
            onClick={() => handleItemClick("kolaboraksi")}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="#ffffff"
              height="25"
              width="25"
              version="1.1"
              viewBox="0 0 297.23 297.23"
              enableBackground="new 0 0 297.23 297.23"
              className="m-2"
            >
              <g>
                <path d="m149.416,61.02c14.139,0 25.642-11.503 25.642-25.642 0-14.139-11.503-25.642-25.642-25.642s-25.642,11.503-25.642,25.642c0,14.139 11.503,25.642 25.642,25.642z" />
                <path d="m108.813,139.678h80.845c5.265,0 9.533-4.268 9.533-9.533v-35.25c0-9.758-6.271-18.41-15.544-21.448l-.043-.014-13.563-2.246c-1.154-0.355-2.388,0.256-2.803,1.395l-15.389,42.224c-0.888,2.436-4.333,2.436-5.221,0l-15.389-42.224c-0.335-0.92-1.203-1.496-2.133-1.496-0.22,0-0.445,0.033-0.667,0.101l-13.566,2.243c-9.349,3.115-15.595,11.782-15.595,21.582v35.133c0.002,5.265 4.27,9.533 9.535,9.533z" />
                <path d="m50.188,208.836c14.139,0 25.642-11.503 25.642-25.642s-11.503-25.642-25.642-25.642c-14.139,0-25.642,11.503-25.642,25.642s11.503,25.642 25.642,25.642z" />
                <path d="m84.368,221.262l-.043-.014-13.563-2.246c-1.154-0.355-2.388,0.256-2.803,1.395l-15.389,42.224c-0.888,2.436-4.333,2.436-5.221,0l-15.389-42.224c-0.335-0.92-1.203-1.496-2.133-1.496-0.22,0-0.445,0.033-0.667,0.101l-13.566,2.243c-9.348,3.115-15.594,11.782-15.594,21.582v35.133c0,5.265 4.268,9.533 9.533,9.533h80.845c5.265,0 9.533-4.268 9.533-9.533v-35.25c0-9.757-6.27-18.41-15.543-21.448z" />
                <path d="m247.277,208.836c14.139,0 25.642-11.503 25.642-25.642s-11.503-25.642-25.642-25.642c-14.139,0-25.642,11.503-25.642,25.642s11.502,25.642 25.642,25.642z" />
                <path d="m281.686,221.262l-.043-.014-13.563-2.246c-1.154-0.355-2.388,0.256-2.803,1.395l-15.389,42.224c-0.888,2.436-4.333,2.436-5.221,0l-15.389-42.224c-0.335-0.92-1.203-1.496-2.133-1.496-0.22,0-0.445,0.033-0.667,0.101l-13.566,2.243c-9.349,3.115-15.595,11.782-15.595,21.582v35.133c0,5.265 4.268,9.533 9.533,9.533h80.845c5.265,0 9.533-4.268 9.533-9.533v-35.25c0.002-9.757-6.269-18.41-15.542-21.448z" />
                <path d="m157.872,146.894h-16.922v38.55l-39.834,39.834c3.606,4.936 5.679,10.989 5.679,17.431v0.822l42.616-42.617 40.975,40.976c0.205-6.527 2.528-12.62 6.417-17.515l-38.931-38.931v-38.55z" />
                <path d="m155.539,71.055c-0.667-0.726-1.641-1.092-2.627-1.092h-7.353c-0.986,0-1.96,0.365-2.627,1.092-1.032,1.124-1.182,2.748-0.449,4.018l3.93,5.925-1.84,15.522 3.623,9.638c0.353,0.969 1.724,0.969 2.078,0l3.623-9.638-1.84-15.522 3.93-5.925c0.733-1.27 0.584-2.894-0.448-4.018z" />
                <path d="m56.259,218.901c-0.667-0.726-1.641-1.092-2.627-1.092h-7.353c-0.986,0-1.96,0.365-2.627,1.092-1.032,1.124-1.182,2.748-0.449,4.018l3.93,5.925-1.84,15.521 3.623,9.638c0.353,0.969 1.724,0.969 2.077,0l3.623-9.638-1.84-15.521 3.93-5.925c0.734-1.269 0.585-2.893-0.447-4.018z" />
                <path d="m253.577,218.901c-0.667-0.726-1.641-1.092-2.627-1.092h-7.353c-0.986,0-1.96,0.365-2.627,1.092-1.032,1.124-1.182,2.748-0.449,4.018l3.93,5.925-1.84,15.521 3.623,9.638c0.353,0.969 1.724,0.969 2.077,0l3.623-9.638-1.84-15.521 3.93-5.925c0.735-1.269 0.585-2.893-0.447-4.018z" />
              </g>
            </svg>
            <p className="text-md text-white">New Kolaboraksi</p>
          </div>

          {/* New Chapter */}
          <div
            className={`inline-flex flex-row items-center p-1 rounded-lg cursor-pointer gap-x-2 ${
              activeItem === "chapter" ? "bg-gray-700" : ""
            }`}
            onClick={() => handleItemClick("chapter")}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="#ffffff"
              width="25"
              height="25"
              viewBox="0 0 32 32"
              className="m-2"
            >
              <title />

              <g data-name="Layer 11" id="Layer_11">
                <path d="M16,17a5,5,0,1,0-5-5A5,5,0,0,0,16,17Zm0-8a3,3,0,1,1-3,3A3,3,0,0,1,16,9Z" />

                <path d="M29.89,28.55l-4-8A1,1,0,0,0,25,20H23.05C25,16.49,26,13.8,26,12A10,10,0,0,0,6,12C6,13.8,7,16.49,9,20H7a1,1,0,0,0-.89.55l-4,8A1,1,0,0,0,3,30H29a1,1,0,0,0,.89-1.45ZM16,4a8,8,0,0,1,8,8c0,1.63-1.26,4.65-3.54,8.49l-.57.94-.15.25-.44.7c0,.08-.09.15-.14.23l-.56.87,0,.06-.5.76-.16.25-.38.55-.15.23c-.15.23-.3.44-.45.65l-.17.25-.25.35-.2.3-.17.23L16,27.3l-.13-.19-.17-.24-.2-.28q-.13-.18-.27-.39L15.08,26l-.46-.67-.13-.2-.39-.58-.16-.23-.51-.79,0,0-.56-.87-.15-.24-.42-.67c-.06-.1-.12-.19-.17-.29l-.5-.82-.06-.1h0C9.26,16.65,8,13.63,8,12A8,8,0,0,1,16,4ZM4.62,28l3-6h2.49l.09.15.3.48.21.35c.12.18.23.36.34.54l.16.26.51.79h0l.49.74a.91.91,0,0,0,.11.16c.12.2.25.39.37.57l.12.17.35.51.1.16.32.45.12.17.25.37.09.12ZM18,28l.09-.13c.08-.11.17-.23.25-.36l.12-.17.31-.45.11-.16c.12-.16.23-.33.35-.5L19.3,26q.18-.25.36-.54l.12-.18.45-.67.05-.09c.17-.25.33-.51.5-.77l.21-.33c.09-.16.19-.31.29-.47l.25-.4.25-.42.11-.17h2.49l3,6Z" />
              </g>
            </svg>
            <p className="text-md text-white">New Chapter</p>
          </div>
        </div>
        <div className="flex-grow"></div>
        <div className="flex flex-col bg-gray-300 h-min-content rounded-lg p-2 mt-auto">
          <div className="flex flex-row justify-between w-full items-center mb-4">
            <Image
              src="/assets/maskot.png"
              width={30}
              height={30}
              alt="admin"
              className="m-2"
            />
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="#000000"
              height="25"
              width="25"
              viewBox="0 0 511.989 511.989"
              className="m-2 cursor-pointer"
              onClick={handleLogout} // Panggil fungsi logout
            >
              <g>
                <g>
                  <g>
                    <path d="M110.933,221.782c-4.71,0-8.533,3.823-8.533,8.533v51.2c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-51.2     C119.467,225.605,115.644,221.782,110.933,221.782z" />
                    <path d="M111.855,2.304L31.172,34.586C8.448,43,0,54.418,0,76.715v358.477c0,22.298,8.448,33.715,30.959,42.061l81.058,32.427     c4.011,1.519,8.038,2.287,11.981,2.287c17.152,0,29.602-14.336,29.602-34.091V34.049C153.6,9.78,134.246-6.126,111.855,2.304z      M136.533,477.876c0,10.18-5.035,17.024-12.535,17.024c-1.869,0-3.883-0.401-5.803-1.118L37.103,461.33     c-16.102-5.965-20.036-11.102-20.036-26.138V76.715c0-15.036,3.934-20.164,20.241-26.206l80.725-32.29     c2.082-0.785,4.087-1.186,5.956-1.186c7.501,0,12.544,6.835,12.544,17.016V477.876z" />
                    <path d="M178.133,51.115h120.533c14.114,0,25.6,11.486,25.6,25.6v128c0,4.71,3.814,8.533,8.533,8.533     c4.719,0,8.533-3.823,8.533-8.533v-128c0-23.526-19.14-42.667-42.667-42.667H178.133c-4.71,0-8.533,3.823-8.533,8.533     S173.423,51.115,178.133,51.115z" />
                    <path d="M332.8,298.582c-4.719,0-8.533,3.823-8.533,8.533v128c0,14.114-11.486,25.6-25.6,25.6H179.2     c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h119.467c23.526,0,42.667-19.14,42.667-42.667v-128     C341.333,302.405,337.519,298.582,332.8,298.582z" />
                    <path d="M511.343,252.655c-0.435-1.05-1.058-1.988-1.852-2.782l-85.325-85.333c-3.337-3.336-8.73-3.336-12.066,0     c-3.337,3.337-3.337,8.73,0,12.066l70.767,70.775H196.267c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533     h286.601L412.1,335.215c-3.337,3.337-3.337,8.73,0,12.066c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5     l85.325-85.325c0.794-0.794,1.417-1.732,1.852-2.782C512.205,257.093,512.205,254.738,511.343,252.655z" />
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <div className="flex flex-col w-full items-star text-sm text-black">
            <p>Admin</p>
            <p>admin@gmail.com</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Sidebar;
